{
  "permissions": {
    "allow": [
      "Bash(npm init:*)",
      "Bash(npm install:*)",
      "Bash(npm run build:*)",
      "Bash(ssh:*)",
      "Bash(rsync:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(ping -c 1 -W 2 raspberrypi.local)",
      "Bash(echo \"exit: $?\")",
      "Bash(arp -a)",
      "Bash(ping -c 3 alarm-clock.local)",
      "Bash(sshpass -p \"Barca105\" scp -o StrictHostKeyChecking=no /Users/mathieu/sources/kids-alarm-clock/scripts/setup-pi.sh pi@alarm-clock.local:~/setup-pi.sh)",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"nohup bash ~/setup-pi.sh > ~/setup.log 2>&1 &:*)",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"pgrep -f setup-pi.sh && tail -5 ~/setup.log\")",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"pgrep -f setup-pi.sh > /dev/null && echo ''Still running...'' || echo ''Finished''; tail -15 ~/setup.log\")",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \":*)",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"which i2cdetect || echo ''i2cdetect missing''; which ffmpeg || echo ''ffmpeg missing''\")",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"sudo apt install -y i2c-tools 2>&1 | tail -5 && sudo reboot\")",
      "Bash(sshpass -p \"Barca105\" rsync -av --exclude node_modules --exclude .git /Users/mathieu/sources/kids-alarm-clock/ pi@alarm-clock.local:~/alarm-clock/)",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"ls ~/alarm-clock/node_modules/.bin/electron 2>/dev/null && echo ''Electron installed'' || echo ''Electron missing''\")",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"cd ~/alarm-clock && nohup npm install > ~/npm-install.log 2>&1 & echo $!\")",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"pgrep -f ''npm install'' && echo ''still running'' || echo ''done''; tail -5 ~/npm-install.log\")",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"ls ~/alarm-clock/node_modules/.bin/electron && echo ''Electron ready'' && tail -3 ~/npm-install.log\")",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"cd ~/alarm-clock && nohup startx > ~/startx.log 2>&1 & echo $!\")",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"cat ~/startx.log\")",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"pgrep -a electron | head -3\")",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"cat ~/.xinitrc\")",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"sed -i ''s/npm start/NODE_ENV=production npm start/'' ~/.xinitrc && cat ~/.xinitrc | tail -3\")",
      "Bash(sshpass -p \"Barca105\" ssh -o StrictHostKeyChecking=no pi@alarm-clock.local \"speaker-test -t sine -f 440 -l 1 -D default 2>&1 | tail -5\")",
      "Bash(npm run build:electron)",
      "Bash(npm run build:portal)",
      "Bash(npm run build:renderer)",
      "Bash(./node_modules/.bin/electron-rebuild -f -w better-sqlite3)",
      "Bash(npm uninstall electron-rebuild)",
      "Bash(sqlite3 /Users/mathieu/sources/kids-alarm-clock/data/portal.db \"SELECT id, title FROM media_items;\")",
      "Bash(sqlite3 /Users/mathieu/sources/kids-alarm-clock/data/portal.db \"SELECT id, title, artist, category, file_path, thumbnail_url FROM media_items;\")",
      "Bash(python3 -c \":*)",
      "Bash(sshpass -p 'Barca105' rsync -av --exclude node_modules --exclude .git --exclude data/ --exclude media/ . pi@alarm-clock.local:~/alarm-clock/)",
      "Bash(sshpass -p 'Barca105' ssh pi@alarm-clock.local \"sudo reboot\")",
      "Bash(sshpass -p 'Barca105' ssh pi@alarm-clock.local \"cat ~/alarm-clock.log 2>/dev/null || echo ''no log''; cat ~/xinitrc.log 2>/dev/null || echo ''no xinitrc log''\")",
      "Bash(sshpass -p 'Barca105' ssh pi@alarm-clock.local \"cd ~/alarm-clock && NODE_ENV=production node dist/electron/main.js 2>&1 | head -30\")",
      "Bash(sshpass -p 'Barca105' ssh pi@alarm-clock.local \"ls ~/alarm-clock/node_modules | head -5\")",
      "Bash(sshpass -p 'Barca105' ssh pi@alarm-clock.local \"ls ~/alarm-clock/node_modules | grep express\")",
      "Bash(sshpass -p 'Barca105' ssh pi@alarm-clock.local \"cd ~/alarm-clock && nohup npm install > ~/npm-install.log 2>&1 &\")",
      "Bash(sshpass -p 'Barca105' ssh pi@alarm-clock.local \"tail -20 ~/npm-install.log\")",
      "Bash(sshpass -p 'Barca105' rsync -av dist/electron/ pi@alarm-clock.local:~/alarm-clock/dist/electron/)",
      "Bash(sshpass -p 'Barca105' ssh pi@alarm-clock.local \"lsblk -J -o NAME,MOUNTPOINT,RM,SIZE,LABEL 2>&1\")",
      "Bash(sshpass -p \"Barca105\" rsync -av dist/electron/ pi@alarm-clock.local:~/alarm-clock/dist/electron/)"
    ]
  }
}
